{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\React\\\\coin_traders\\\\src\\\\ui\\\\Form.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst _React$createContext = /*#__PURE__*/React.createContext({}),\n      Provider = _React$createContext.Provider,\n      Consumer = _React$createContext.Consumer;\n\nclass FormProvider extends React.PureComponent {\n  static getDerivedStateFromProps({\n    initValues\n  }, prevState) {\n    const values = initValues !== prevState.initValues ? initValues : prevState.values;\n    return {\n      initValues,\n      values,\n      error: {}\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.reset = this.reset.bind(this);\n    this.validate = this.validate.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    const _this$state = this.state,\n          values = _this$state.values,\n          error = _this$state.error;\n    e.preventDefault(); //뭐임?\n\n    if (Object.values(error).length === 0) {\n      this.props.onSubmit(values);\n    }\n  }\n\n  onChange(name, updatedValue) {\n    this.validate(this.state.values);\n    this.setState(({\n      values\n    }) => ({\n      values: _objectSpread(_objectSpread({}, values), {}, {\n        [name]: updatedValue\n      })\n    }));\n  }\n\n  reset() {\n    this.setState({\n      values: {}\n    });\n  }\n\n  validate(values) {\n    const validate = this.props.validate;\n\n    if (!validate) {\n      return;\n    }\n\n    const errors = this.props.validate(values);\n    this.setState({\n      errors\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          values = _this$state2.values,\n          errors = _this$state2.errors;\n    return /*#__PURE__*/_jsxDEV(Provider, {\n      value: {\n        errors,\n        values,\n        onChange: this.onChange,\n        reset: this.reset\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: this.props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n_defineProperty(FormProvider, \"Consumer\", Consumer);\n\nFormProvider.propTypes = {\n  validate: PropTypes.func\n};\nFormProvider.defaultProps = {\n  initValues: {},\n  validate: () => ({}),\n  onChange: () => ({}),\n  handleSubmit: () => ({}),\n  reset: () => ({})\n};\nexport default FormProvider;","map":{"version":3,"sources":["C:/React/coin_traders/src/ui/Form.jsx"],"names":["React","PropTypes","createContext","Provider","Consumer","FormProvider","PureComponent","getDerivedStateFromProps","initValues","prevState","values","error","constructor","props","state","reset","bind","validate","onChange","handleSubmit","e","preventDefault","Object","length","onSubmit","name","updatedValue","setState","errors","render","children","propTypes","func","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst { Provider, Consumer } = React.createContext({});\r\n\r\nclass FormProvider extends React.PureComponent {\r\n  static Consumer = Consumer;\r\n  static getDerivedStateFromProps({ initValues }, prevState) {\r\n    const values =\r\n      initValues !== prevState.initValues ? initValues : prevState.values;\r\n    return {\r\n      initValues,\r\n      values,\r\n      error: {},\r\n    };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.reset = this.reset.bind(this);\r\n    this.validate = this.validate.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    const { values, error } = this.state;\r\n    e.preventDefault(); //뭐임?\r\n    if (Object.values(error).length === 0) {\r\n      this.props.onSubmit(values);\r\n    }\r\n  }\r\n\r\n  onChange(name, updatedValue) {\r\n    this.validate(this.state.values);\r\n    this.setState(({ values }) => ({\r\n      values: {\r\n        ...values,\r\n        [name]: updatedValue,\r\n      },\r\n    }));\r\n  }\r\n\r\n  reset() {\r\n    this.setState({ values: {} });\r\n  }\r\n  validate(values) {\r\n    const { validate } = this.props;\r\n    if (!validate) {\r\n      return;\r\n    }\r\n    const errors = this.props.validate(values);\r\n    this.setState({ errors });\r\n  }\r\n\r\n  render() {\r\n    const { values, errors } = this.state;\r\n    return (\r\n      <Provider\r\n        value={{ errors, values, onChange: this.onChange, reset: this.reset }}\r\n>\r\n        <form onSubmit={this.handleSubmit}>{this.props.children}</form>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nFormProvider.propTypes = {\r\n  validate: PropTypes.func,\r\n};\r\n\r\nFormProvider.defaultProps = {\r\n  initValues: {},\r\n  validate: () => ({}),\r\n  onChange: () => ({}),\r\n  handleSubmit: () => ({}),\r\n  reset: () => ({}),\r\n};\r\n\r\nexport default FormProvider;\r\n"]},"metadata":{},"sourceType":"module"}